{"version":3,"sources":["contexts/CurrentUserContext.jsx","components/Card.jsx","images/logo.svg","components/Header.jsx","components/Main.jsx","components/Footer.jsx","components/PopupWithForm.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/EditProfilePopup.jsx","components/ImagePopup.jsx","components/ConfirmDeletePlacePopup.jsx","utils/api.js","utils/auth.js","components/Register.jsx","components/Login.jsx","components/ProtectedRoute.jsx","images/button-success.svg","images/button-failed.svg","components/InfoTooltip.jsx","components/Error.jsx","components/App.jsx","reportWebVitals.js","index.jsx"],"names":["CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isLiked","likes","some","i","_id","isOwn","owner","cardDeleteButtonClassName","cardLikeButtonClassName","className","src","link","alt","name","onClick","type","id","length","Header","headerText","loggedIn","logo","email","to","Main","logout","isEditAvatarPopupOpen","isEditProfilePopupOpen","isAddPlacePopupOpen","cards","avatar","about","map","Footer","PopupWithForm","props","isOpen","onClose","title","onSubmit","children","submitText","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","useEffect","current","value","e","preventDefault","placeholder","required","ref","AddPlacePopup","onAddPlace","useState","cardName","setCardName","cardLink","setCardLink","buttonName","minLength","maxLength","onChange","target","EditProfilePopup","onUpdateUser","setName","description","setDescription","event","ImagePopup","ConfirmDeletePlacePopup","cardId","onDeleteCard","api","baseUrl","headers","this","_baseUrl","_headers","Promise","all","getUsers","getInitialCards","res","ok","json","reject","status","fetch","method","credentials","then","_checkResponse","body","JSON","stringify","job","url","auth","password","Register","handleRegister","regData","setRegData","handleOnChange","evt","Login","handleLogin","authData","setAuthData","ProtectedRoute","Component","component","InfoTooltip","isRegSuccess","regFailed","regSuccess","loginSuccess","loginFailed","Error","withRouter","setIsAvatarPopupOpen","setIsProfilePopupOpen","setIsAddPlacePopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isTooltipOpened","setIsTooltipOpened","cardIdForDelete","setCardIdForDelete","setCurrentUser","selectedCard","setSelectedCard","setCards","isLoading","setIsLoading","setLoggedIn","isAuth","setIsAuth","history","useHistory","openRegModal","window","addEventListener","handleClosePopupWithOverlayClick","handleClosePopupWithEsc","keyCode","closeAllPopups","classList","contains","removeEventListener","getInitialData","user","reverse","catch","err","console","log","getUser","push","error","Provider","exact","path","signout","changeLikeCardStatus","newCard","newCards","c","login","register","updateAvatar","finally","addNewCard","updateProfile","deleteCardFromServer","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4570f75.chunk.js","sourcesContent":["import React from 'react'\n\nconst CurrentUserContext = React.createContext()\n\nexport default CurrentUserContext\n","import React, { useContext } from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext);\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `element__delete-button ${\n    isOwn ? \"element__delete-button_visible\" : \"\"\n  }`;\n\n  const cardLikeButtonClassName = `element__like-button ${\n    isLiked ? \"element__like-button_active\" : \"\"\n  }`;\n  function handleCardClick() {\n    onCardClick(card);\n  }\n\n  function handleCardLike() {\n    onCardLike(card);\n  }\n\n  function handleDeleteCard() {\n    onCardDelete(card);\n  }\n  return (\n    <div className=\"element\">\n      <img\n        src={card.link}\n        alt={card.name}\n        className=\"element__image\"\n        onClick={handleCardClick}\n      />\n      <button\n        type=\"button\"\n        id=\"delete\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteCard}\n      ></button>\n      <div className=\"element__group\">\n        <h2 className=\"element__title\"> {card.name} </h2>\n        <button\n          type=\"button\"\n          className={cardLikeButtonClassName}\n          onClick={handleCardLike}\n        ></button>\n      </div>\n      <span className=\"element__like-counter\" id=\"counter\">\n        {card.likes.length}\n      </span>\n    </div>\n  );\n}\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React, { useContext } from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport logo from \"../images/logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header({ headerText, link, loggedIn, onClick }) {\n  const currentUser = useContext(CurrentUserContext);\n  return (\n    <header className=\"header\">\n      <div className=\"header__wrapper\">\n        <img\n          className=\"header__logo\"\n          src={logo}\n          alt=\"Логотип проекта 'Место'\"\n        />\n        <div className=\"header__wrapper-link\">\n          <p className=\"header__user-email\">{currentUser.email}</p>\n          <Link\n            to={link}\n            onClick={onClick}\n            className={`${loggedIn && \"header__link_logout\"} header__link`}\n          >\n            {headerText}\n          </Link>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\n\nfunction Main({\n  loggedIn,\n  logout,\n  isEditAvatarPopupOpen,\n  isEditProfilePopupOpen,\n  isAddPlacePopupOpen,\n  onCardDelete,\n  onCardClick,\n  cards,\n  onCardLike,\n}) {\n  //Подписка на контекст CurrentUserContext\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header\n        loggedIn={loggedIn}\n        link=\"/sign-in\"\n        onClick={logout}\n        headerText={\"Выйти\"}\n      />\n      <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__group\">\n            <img\n              className=\"profile__avatar\"\n              alt=\"аватар\"\n              src={`${currentUser.avatar}`}\n              onClick={isEditAvatarPopupOpen}\n            />\n            <div className=\"profile__avatar-pencil\"> </div>\n          </div>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__title\"> {currentUser.name} </h1>\n            <button\n              onClick={isEditProfilePopupOpen}\n              type=\"button\"\n              className=\"profile__edit-button\"\n            ></button>\n            <p className=\"profile__subtitle\"> {currentUser.about} </p>\n          </div>\n          <button\n            onClick={isAddPlacePopupOpen}\n            type=\"button\"\n            className=\"profile__add-button\"\n          ></button>\n        </section>\n        <section className=\"elements\">\n          {cards.map((card) => (\n            <Card\n              card={card}\n              key={card._id}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </section>\n      </main>\n    </>\n  );\n}\n\nexport default Main;\n","import React from 'react'\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\"> &copy; 2021 Mesto Russia </p>\n    </footer>\n  )\n}\nexport default Footer\n","import React from 'react'\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`popup popup_${props.name} ${\n        props.isOpen && 'popup_is-opened'\n      } `}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button \"\n          onClick={props.onClose}\n        ></button>\n        <h2 className=\"popup__title\"> {props.title} </h2>\n        <form\n          name={props.name}\n          className=\"popup__form \"\n          onSubmit={props.onSubmit}\n          \n        >\n          {props.children}\n          <button type=\"submit\" className=\"popup__button\">\n            {props.submitText}\n          </button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm\n","import React, { useRef, useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, submitText }) {\n  //Реф для прямого доступа к DOM-элементу инпута и его значению\n  const avatarRef = useRef('')\n\n  //Очистка поля ввода ссылки после закрытия\n  useEffect(() => {\n    avatarRef.current.value = ''\n  }, [isOpen])\n\n  //Обработчик сабмита формы (обновление аватарки)\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      onSubmit={handleSubmit}\n      submitText={submitText}\n    >\n      <input\n        type=\"url\"\n        name=\"link\"\n        id=\"avatar\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        className=\"popup__item popup__item_form_avatar\"\n        ref={avatarRef}\n      />\n      <span className=\"avatar-error popup__input-error\"> </span>\n    </PopupWithForm>\n  )\n}\nexport default EditAvatarPopup\n","import React, { useState, useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, submitText }) {\n  //Стейты для имени и ссылки на картинку\n  const [cardName, setCardName] = useState('')\n  const [cardLink, setCardLink] = useState('')\n\n  //Обработчик установки названия места\n  function handleCardName(e) {\n    setCardName(e.target.value)\n  }\n\n  //Обработчик установки картинки (ссылки на картинку)\n  function handleCardLink(e) {\n    setCardLink(e.target.value)\n  }\n\n  //Обработчик сабмита формы поп-апа добавления карточки\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    onAddPlace({\n      name: cardName,\n      link: cardLink,\n    })\n  }\n\n  useEffect(() => {\n    setCardLink('')\n    setCardName('')\n  }, [isOpen])\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      title=\"Новое место\"\n      name=\"add-element\"\n      buttonName=\"Создать\"\n      onSubmit={handleSubmit}\n      submitText={submitText}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        id=\"names\"\n        placeholder=\"Название\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        className=\"popup__item popup__item_form_names\"\n        onChange={handleCardName}\n        value={cardName ? cardName : ''}\n      />\n      <span className=\"names-error popup__input-error \"> </span>\n      <input\n        type=\"url\"\n        name=\"link\"\n        id=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        className=\"popup__item popup__item_form_url\"\n        onChange={handleCardLink}\n        value={cardLink ? cardLink : ''}\n      />\n      <span className=\"url-error popup__input-error\"> </span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React, { useState, useContext, useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, submitText }) {\n  //Подписываемся на контекст\n  const currentUser = useContext(CurrentUserContext)\n\n  //Cтейты имени и описания профиля\n  const [name, setName] = useState('')\n  const [description, setDescription] = useState('')\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser, isOpen])\n\n  //Функция для изменения имени через поле ввода\n  function handleUserName(event) {\n    setName(event.target.value)\n  }\n\n  //Функция для изменения описания профиля через поле ввода\n  function handleUserDescription(event) {\n    setDescription(event.target.value)\n  }\n\n  //Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    //Передача значений управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      title=\"Редактировать профиль\"\n      name=\"edit-element\"\n      onSubmit={handleSubmit}\n      submitText={submitText}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        id=\"name\"\n        placeholder=\"Имя\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        className=\"popup__item popup__item_form_name\"\n        onChange={handleUserName}\n        value={name ? name : ''}\n      />\n      <span className=\"name-error popup__input-error \"> </span>\n      <input\n        type=\"text\"\n        name=\"job\"\n        placeholder=\"О себе\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        className=\"popup__item popup__item_form_job\"\n        onChange={handleUserDescription}\n        value={description ? description : ''}\n      />\n      <span className=\"job-error popup__input-error \"> </span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_cards ${card && 'popup_is-opened'}`}>\n      <div className=\"popup__container-image\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button popup__close-image\"\n          onClick={onClose}\n        ></button>\n        <img\n          src={card ? card.link : ''}\n          alt={card ? card.name : ''}\n          className=\"popup__image\"\n        />\n        <h2 className=\"popup__text\"> {card ? card.name : ''} </h2>\n      </div>\n    </div>\n  )\n}\nexport default ImagePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nexport default function ConfirmDeletePlacePopup({\n  onClose,\n  isOpen,\n  cardId,\n  onDeleteCard,\n  submitText,\n}) {\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    onDeleteCard(cardId)\n  }\n\n  return (\n    <PopupWithForm\n      name=\"confirm\"\n      title=\"Вы уверены?\"\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      submitText={submitText}\n    ></PopupWithForm>\n  )\n}\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getInitialData() {\n    return Promise.all([this.getUsers(), this.getInitialCards()]);\n  }\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n  getUsers() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  updateProfile(name, job) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      credentials: \"include\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: job,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  updateAvatar(url) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      credentials: \"include\",\n      headers: this._headers,\n\n      body: JSON.stringify({\n        avatar: url,\n      }),\n    }).then(this._checkResponse);\n  }\n  deleteCardFromServer(_id) {\n    return fetch(`${this._baseUrl}/cards/${_id}`, {\n      method: \"DELETE\",\n      credentials: \"include\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  putLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: \"PUT\",\n      credentials: \"include\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n  deleteLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      credentials: \"include\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: isLiked ? \"PUT\" : \"DELETE\",\n      credentials: \"include\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://api.yanadok.students.nomoredomains.rocks\",\n  headers: {\n    \"Content-Type\": \"application/json;charset=utf-8\",\n  },\n});\n\nexport default api;\n","class Auth {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n  _checkResponse = (res) => {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  };\n\n  register({ email, password }) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: this._headers,\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  login({ email, password }) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: this._headers,\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    }).then(this._checkResponse);\n  }\n  getUser() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      credentials: \"include\",\n    }).then(this._checkResponse);\n  }\n  signout() {\n    return fetch(`${this._baseUrl}/signout`, {\n      credentials: \"include\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n}\nconst auth = new Auth({\n  baseUrl: \"https://api.yanadok.students.nomoredomains.rocks\",\n  headers: {\n    \"Content-Type\": \"application/json;charset=utf-8\",\n  },\n});\n\nexport default auth;\n","import React, { useState } from \"react\";\n\nimport Header from \"./Header\";\nimport {Link} from \"react-router-dom\";\n\nfunction Register({ handleRegister }) {\n  const [regData, setRegData] = useState({email: '', password: ''});\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleRegister(regData);\n  }\n\n  function handleOnChange(evt) {\n    const {name, value} = evt.target;\n    setRegData({ ...regData, [name]: value });\n  }\n\n  return (\n    <>\n      <Header headerText={'Войти'} link=\"/sign-in\" />\n      <div className=\"authorization\">\n        <form onSubmit={handleSubmit}\n              className=\"authorization__wrapper\">\n          <h3 className=\"authorization__title\">Регистрация</h3>\n          <input type=\"email\"\n                 required\n                 minLength=\"2\"\n                 maxLength=\"200\"\n                 name=\"email\"\n                 className=\"authorization__data\"\n                 value={regData.email}\n                 onChange={handleOnChange}\n                 placeholder=\"Email\"\n          />\n          <input type=\"password\"\n                 required\n                 minLength=\"2\"\n                 maxLength=\"200\"\n                 name=\"password\"\n                 className=\"authorization__data\"\n                 value={regData.password}\n                 onChange={handleOnChange}\n                 placeholder=\"Пароль\"\n          />\n          <button className=\"authorization__button\"\n                  type=\"submit\"\n          >Зарегистрироваться</button>\n          <Link to=\"/sign-in\"\n                className=\"authorization__login-text\"\n          >Уже зарегистрированы? Войти</Link>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default Register;","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Header from \"./Header\";\n\nfunction Login({ handleLogin }) {\n  const [authData, setAuthData] = useState({email: '', password: ''});\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleLogin(authData);\n  }\n\n  function handleOnChange(evt) {\n    const { name, value } = evt.target;\n    setAuthData({ ...authData, [name]: value });\n  }\n\n  return (\n    <>\n      <Header headerText=\"Регистрация\" link=\"/sign-up\" />\n      <div className=\"authorization\">\n        <form onSubmit={handleSubmit}\n              className=\"authorization__wrapper\">\n          <h3 className=\"authorization__title\">Вход</h3>\n          <input type=\"email\"\n                 required\n                 minLength=\"2\"\n                 maxLength=\"200\"\n                 name=\"email\"\n                 className=\"authorization__data\"\n                 value={authData.email}\n                 onChange={handleOnChange}\n                 placeholder=\"Email\"\n          />\n          <input type=\"password\"\n                 required\n                 minLength=\"2\"\n                 maxLength=\"200\"\n                 name=\"password\"\n                 className=\"authorization__data\"\n                 value={authData.password}\n                 onChange={handleOnChange}\n                 placeholder=\"Пароль\"\n          />\n          <button className=\"authorization__button\"\n                  type=\"submit\"\n          >Войти</button>\n          <Link to=\"/sign-up\"\n                className=\"authorization__login-text\"\n          >Нет учетной записи? Зарегистрироваться</Link>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default Login;","import React from \"react\";\nimport {Redirect, Route} from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/button-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/button-failed.df8eddf6.svg\";","import React from \"react\";\nimport loginSuccess from '../images/button-success.svg';\nimport loginFailed from '../images/button-failed.svg';\n\nfunction InfoTooltip({ isOpen, onClose, isRegSuccess, regFailed, regSuccess }) {\n  return(\n    <>\n      <div className={`popup ${isOpen && 'popup_is-opened'}`}>\n        <div className=\"popup__container popup__reg-modal\">\n          <button type=\"button\"\n                  className=\"popup__close-button\"\n                  onClick={onClose}\n          />\n          <img className=\"popup__image-reg-modal\"\n               src={`${isRegSuccess ? loginSuccess : loginFailed}`}\n               alt=\"Изображение статуса регистрации\"\n          />\n          <p className=\"popup__reg-modal-text\">\n            {`${isRegSuccess ? regSuccess : regFailed}`}\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default InfoTooltip;","import React from \"react\";\nimport Header from \"./Header\";\nimport {Link} from \"react-router-dom\";\n\nfunction Error() {\n  return(\n    <>\n      <Header />\n      <div className=\"error\">\n        <h3 className=\"error__title\">Страница не найдена.</h3>\n        <Link to=\"/\" className=\"authorization__login-text\">На главную.</Link>\n      </div>\n    </>\n  );\n}\n\nexport default Error;","import React, { useState, useEffect } from \"react\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport ConfirmDeletePlacePopup from \"./ConfirmDeletePlacePopup\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport auth from \"../utils/auth\";\nimport {\n  Route,\n  Switch,\n  useHistory,\n  Redirect,\n  withRouter,\n} from \"react-router-dom\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport Error from \"./Error\";\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] =\n    useState(false);\n  const [isTooltipOpened, setIsTooltipOpened] = useState(false);\n  const [cardIdForDelete, setCardIdForDelete] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState({});\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isAuth, setIsAuth] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    api\n      .getInitialData()\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards.reverse());\n      })\n      .catch((err) => console.log(`Ошибка при получении данных: ${err}`));\n  }, [loggedIn]);\n\n  function checkToken() {\n    auth\n      .getUser()\n      .then((res) => {\n        if (res.status === 401 || res.status === 403) {\n          setLoggedIn(false);\n          setCurrentUser({});\n          history.push(\"/signin\");\n        } else {\n          setIsAuth(true);\n          setLoggedIn(true);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => console.error(err));\n  }\n\n  React.useEffect(() => {\n    checkToken();\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsAvatarPopupOpen(true);\n    window.addEventListener(\"keydown\", handleClosePopupWithEsc);\n    window.addEventListener(\"click\", handleClosePopupWithOverlayClick);\n  }\n\n  function handleEditProfileClick() {\n    setIsProfilePopupOpen(true);\n    window.addEventListener(\"keydown\", handleClosePopupWithEsc);\n    window.addEventListener(\"click\", handleClosePopupWithOverlayClick);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n    window.addEventListener(\"keydown\", handleClosePopupWithEsc);\n    window.addEventListener(\"click\", handleClosePopupWithOverlayClick);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    window.addEventListener(\"keydown\", handleClosePopupWithEsc);\n    window.addEventListener(\"click\", handleClosePopupWithOverlayClick);\n  }\n\n  function handleDeleteCardClick(e) {\n    setIsConfirmDeletePopupOpen(true);\n    setCardIdForDelete(e._id);\n    window.addEventListener(\"keydown\", handleClosePopupWithEsc);\n    window.addEventListener(\"click\", handleClosePopupWithOverlayClick);\n  }\n\n  function openRegModal() {\n    setIsTooltipOpened(true);\n    window.addEventListener(\"click\", handleClosePopupWithOverlayClick);\n  }\n\n  function handleClosePopupWithEsc(event) {\n    if (event.keyCode === 27) {\n      closeAllPopups();\n    }\n  }\n\n  function handleClosePopupWithOverlayClick(evt) {\n    if (evt.target.classList.contains(\"popup_is-opened\")) {\n      closeAllPopups();\n    }\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsAvatarPopupOpen(false);\n    setIsProfilePopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n    setIsTooltipOpened(false);\n    setSelectedCard(null);\n    window.removeEventListener(\"keydown\", handleClosePopupWithEsc);\n    window.removeEventListener(\"click\", handleClosePopupWithOverlayClick);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n\n        setCards(newCards);\n      })\n      .catch((err) =>\n        console.log(`Ошибка при попытке поставить/снять лайк: ${err}`)\n      );\n  }\n\n  function handleDeleteClick(cardId) {\n    setIsLoading(true);\n    api\n      .deleteCardFromServer(cardId)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== cardId);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateUser(user) {\n    setIsLoading(true);\n    api\n      .updateProfile(user.name, user.about)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(user) {\n    setIsLoading(true);\n    api\n      .updateAvatar(user.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsLoading(true);\n    api\n      .addNewCard(card.name, card.link)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleRegister({ email, password }) {\n    auth\n      .register({ email, password })\n      .then(() => {\n        setIsAuth(true);\n\n        history.push(\"/sign-in\");\n      })\n\n      .catch((err) => {\n        setIsAuth(false);\n        openRegModal();\n        console.log(`Произошла ошибка: ${err}`);\n      });\n  }\n\n  function handleLogin({ email, password }) {\n    auth\n      .login({ email, password })\n      .then((user) => {\n        setCurrentUser(user);\n        setIsAuth(true);\n        setLoggedIn(true);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        setIsAuth(false);\n        openRegModal();\n        console.log(`Произошла ошибка: ${err}`);\n      });\n  }\n  const handleLogout = () => {\n    auth\n      .signout()\n      .then(() => {\n        setLoggedIn(false);\n        setCurrentUser({});\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"body\">\n        <div className=\"root\">\n          <Switch>\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              logout={handleLogout}\n              isEditAvatarPopupOpen={handleEditAvatarClick}\n              isEditProfilePopupOpen={handleEditProfileClick}\n              isAddPlacePopupOpen={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              cards={cards}\n              onCardDelete={handleDeleteCardClick}\n            />\n\n            <Route path=\"/sign-in\">\n              <Login handleLogin={handleLogin} />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register handleRegister={handleRegister} />\n            </Route>\n            <Route path=\"*\">\n              <Redirect to=\"/\" />\n              <Error />\n            </Route>\n          </Switch>\n          <Footer />\n          <PopupWithForm />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            submitText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            submitText={isLoading ? \"Сохранение...\" : \"Создать\"}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            submitText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <ConfirmDeletePlacePopup\n            isOpen={isConfirmDeletePopupOpen}\n            onDeleteCard={handleDeleteClick}\n            cardId={cardIdForDelete}\n            onClose={closeAllPopups}\n            submitText={isLoading ? \"Удаляем...\" : \"Да\"}\n          />\n          <InfoTooltip\n            isOpen={isTooltipOpened}\n            onClose={closeAllPopups}\n            isRegSuccess={isAuth}\n            regSuccess=\"Вы успешно зарегестрировались!\"\n            regFailed=\"Что-то пошло не так! Попробуйте еще раз.\"\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nreportWebVitals();\n"],"sourceRoot":""}